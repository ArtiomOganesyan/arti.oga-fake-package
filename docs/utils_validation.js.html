<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>JSDoc: Source: utils/validation.js</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link
      type="text/css"
      rel="stylesheet"
      href="styles/prettify-tomorrow.css"
    />
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css" />
  </head>

  <body>
    <div id="main">
      <h1 class="page-title">Source: utils/validation.js</h1>

      <section>
        <article>
          <pre class="prettyprint source linenums"><code>/**
 * Each inner array of SpecificRules contains first element as the type against which the values
 * will be tested. The second element is an array of keys, which values will be tested.
 * @typedef RulesFor
 * @type {Array}
 * @property {string} 0 type of rule
 * @property {Array&lt;string>} 1 which fields should follow the rule
 */

/**
 * Consists of arrays of rules which validates the option.specific values
 * @typedef SpecificRules
 * @type {Array&lt;RulesFor>}
 */

/**
 * Rules that go through the object of specific keys and make sure their value matches required type
 * @type {SpecificRules}
*/
const specificRules = [
  ['number', ['age']],
  ['string', ['gender', 'firstName', 'lastName', 'email', 'emailDomain', 'emailTopDomain', 'birthDay', 'ip', 'id', 'idPattern']],
];

/**
 * @param {Options} options Options passed from the generateUser function
 * @returns {Error|undefined} Error will be returned if the options.specific validates
 * the specificRules. Otherwise, undefined will be returned.
 */
const optionValidation = ({ specific }) => {
  if (!specific) return;

  const results = [];

  Object
    .entries(specific)
    .forEach(([key, value]) => {
      specificRules.forEach(([type, ruleFor]) => {
        if (ruleFor.some((item) => item === key)) {
          if (typeof value !== type) {
            results.push(`\nproperty ${key} of option.specific must be typeof ${type}`);
          }
        }
      });
    });
  if (results.length) throw new Error(`${results.join(' ')}\n`);
};

module.exports = { optionValidation };
</code></pre>
        </article>
      </section>
    </div>

    <nav>
      <h2><a href="index.html">Home</a></h2>
      <h3>Global</h3>
      <ul>
        <li><a href="global.html#dd">dd</a></li>
        <li><a href="global.html#generateUser">generateUser</a></li>
        <li><a href="global.html#object">object</a></li>
        <li><a href="global.html#optionValidation">optionValidation</a></li>
        <li><a href="global.html#randomBirthDay">randomBirthDay</a></li>
        <li><a href="global.html#randomEmail">randomEmail</a></li>
        <li><a href="global.html#randomId">randomId</a></li>
        <li><a href="global.html#randomIp">randomIp</a></li>
        <li><a href="global.html#randomItem">randomItem</a></li>
        <li><a href="global.html#randomTwo">randomTwo</a></li>
        <li><a href="global.html#specificRules">specificRules</a></li>
      </ul>
    </nav>

    <br class="clear" />

    <footer>
      Documentation generated by
      <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.0</a> on Thu Nov 10
      2022 22:19:03 GMT+0500 (Узбекистан, стандартное время)
    </footer>

    <script>
      prettyPrint();
    </script>
    <script src="scripts/linenumber.js"></script>
  </body>
</html>
